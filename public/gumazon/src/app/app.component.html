<div id="uibase">
  <nav class="main-menu" style="display:flex; flex-direction: row; flex-wrap: nowrap; align-items: center;">
    <div title="brand">
      <h1>{{title}}</h1>
    </div>
    <div style="flex: 1 1 auto;"></div>
    <div title="auth">
      <ng-container *ngIf="auth.isAuthenticated$ | async; else loggedOut">
        <button *ngIf="auth.user$ | async as user" (click)="toggleSettings()">{{ user.name }}</button>
        <div *ngIf="!settingsClosed" style="display: flex; flex-direction: column;">
          <a (click)="auth.logout({ returnTo: document.location.origin })">
            Logout
          </a>
        </div>
      </ng-container>

      <ng-template #loggedOut>
        <a (click)="auth.loginWithRedirect()">Log in</a>
      </ng-template>
    </div>
  </nav>
  <div title="cookie">{{document.cookie}}</div>
  <router-outlet></router-outlet>
</div>
